var SW=SW||{};SW.Analytics={},SW.Analytics.getClientEventMiddleware=function({shouldSendToSecondary:e=!1,clientEventPublisherUrl:t=""}){return({payload:n,next:i})=>{try{const i=!0===window.forceEnableClientEventSends||!0===e,a=n.obj,r=["track","identify","page"].includes(a.type),o={track:"t",page:"p",identify:"i"};if(i&&t&&r){const e={...a,projectId:"math-game-events"},n=o[a.type];fetch(`${t}/${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch(e=>{Sentry.captureException(e)})}}catch(a){Sentry.captureException(a),i(n)}}},SW.Analytics.initSegment=function(e,t=!1,n=""){e&&function(){var i=window.analytics=window.analytics||[];if(!i.initialize)if(i.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{i.invoked=!0,i.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"],i.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(e),i.push(t),i}};for(var a=0;a<i.methods.length;a++){var r=i.methods[a];i[r]=i.factory(r)}i.load=function(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://cdn-frontend-events.prodigygame.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a),i._loadOptions=t},i._writeKey="<%%= segmentWriteKey %%>",i.SNIPPET_VERSION="4.13.2",i.load(e),i.addSourceMiddleware(SW.Analytics.getClientEventMiddleware({shouldSendToSecondary:t,clientEventPublisherUrl:n})),i.page()}}()};